<emp-ng-modal-window
  [config]="{width:'500px'}">

  <emp-ng-card
    [heading]="titleText"
    [showHint]="false"
    [headerHighlight]="true"
    [disableClose]="true">

    <div class="card-body-confirmation">

      <ng-container *ngIf="entityFields.length === 0">

        Esta operación {{actionText}} {{entityPronoun}} {{entityText}}

        <strong> {{entityNo}}: {{entityType}} </strong>
        de <strong> {{party}}</strong>

      </ng-container>

      <ng-container *ngIf="entityFields.length > 0">

        Esta operación {{actionText}} {{entityPronoun}} {{entityText}}:<br><br>

        <table class="confirm-data">

          <tr *ngFor="let field of entityFields">

            <td class="nowrap">{{field.label}}:</td>

            <td class="wrap"><strong>{{field.value}}</strong></td>

          </tr>

        </table>

        <br *ngIf="notesRequired">

      </ng-container>

      <ng-container *ngIf="notesRequired">

        <span *ngIf="['Cancel', 'Reject'].includes(mode)"> con motivo: <br><br></span>

        <input type="text" class="text-box" *ngIf="notesRequired"
          [(ngModel)]="notes"
          [placeholder]="['Cancel', 'Reject'].includes(mode) ?
            'Motivo' + (mode === 'Reject' ? ' de rechazo' : '') :
            'Justificación'"
          [class.invalid-control]="!notes">

      </ng-container>

      <br><br *ngIf="entityFields.length === 0 || notesRequired">

      {{questionText}}

      <mat-divider [style.margin]="'20px -16px 8px -16px'"></mat-divider>

      <div class="fx-row-container fx-end fx-items-center fx-gap-half">

        <button
          [disabled]="!isReady"
          [class.btn]="!isReady"
          [class.btn-warning]="showWarningColor && isReady"
          [class.btn-action]="!showWarningColor && isReady"
          (click)="onSubmitButtonClicked()">{{submitText}}</button>

        <button class="btn"
        (click)="onCloseButtonClicked()">Cancelar</button>

      </div>

    </div>

  </emp-ng-card>

</emp-ng-modal-window>
