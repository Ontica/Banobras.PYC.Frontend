<emp-ng-card
  [title]="title"
  [hint]="hint"
  (cardClose)="onCloseButtonClicked()">

  <mat-tab-group mat-stretch-tabs="false" [(selectedIndex)]="selectedTabIndex" >

    <mat-tab label="Responsable">

      <emp-pyc-assignment-editor
        [assignment]="data.assignment"
        (assetsAssignmentEditorEvent)="onAssetsAssignmentEditorEvent($event)">

      </emp-pyc-assignment-editor>

    </mat-tab>

    <mat-tab label="Activos fijos">

      <ng-template matTabContent>

        <emp-pyc-assignment-assets-edition
          [assignmentUID]="data.assignment.uid"
          [assets]="data.assets"
          [canEdit]="data.actions?.canUpdate"
          (assignmentAssetsEditionEvent)="onAssetsAssignmentAssetsEditionEvent($event)">

        </emp-pyc-assignment-assets-edition>

      </ng-template>

    </mat-tab>

    <mat-tab label="Transacciones">

      <emp-pyc-asset-transactions-table
        [transactions]="data.transactions"
        [displayAssignmentData]="false">

      </emp-pyc-asset-transactions-table>

    </mat-tab>

    <mat-tab label="Documentos">

      <emp-ng-documents-edition
        entityType="asset-assignments"
        [entityUID]="data.assignment.uid"
        [documents]="data.documents ?? []"
        [canEdit]="data.actions?.canEditDocuments"
        (documentsEditionEvent)="onDocumentsEditionEvent($event)">

      </emp-ng-documents-edition>

    </mat-tab>

    <mat-tab label="Historial">

      <emp-ng-history-table
        [history]="data.history ?? []">

      </emp-ng-history-table>

    </mat-tab>

  </mat-tab-group>

</emp-ng-card>
